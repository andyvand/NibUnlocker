<html lang="en"><head><meta charset="UTF-8"><title>If a code signing error occurs</title><meta name="description" content="If you manually sign an app, code signing errors may occur when you build your app."></head><body dir="ltr" id="dev01865b392" class="AppleTopic apd-topic" data-isTaskOpen="false"><a name="dev01865b392"></a><figure class="topicIcon"><img src="../GlobalArt/AppIconDefault.png" alt="" height="30" width="30"></figure><h1>If a code signing error occurs</h1><div class="Alert"><p class="Tip"><strong class="tip">Tip: </strong>If you use <a href="dev80cc24546.html#dev80cc24546" class="xRef Aside">automatic signing</a> (recommended), Xcode repairs most code signing errors for you.</p></div><p>If you <a href="dev1bf96f17e.html#dev1bf96f17e" class="xRef AppleTopic">manually sign an app</a>, you are responsible for managing the provisioning profile and code signing errors may occur when you <a href="devdc0193470.html#devdc0193470" class="xRef AppleTopic">build and run your app</a>. </p><div id="dev1b6bad232" class="Task"><h2 role="button" aria-controls="aria-dev1b6bad232" aria-expanded="true" class="Name">If a provisioning profile can't be found</h2><div class="TaskBody" role="region" aria-hidden="false" id="aria-dev1b6bad232"><p>If you change the provisioning profile and receive the following error message:</p><div class="CodeLines"><code class="CodeLine">Code Sign error: Provisioning Profile 'xxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx' can’t be found</code></div><p>the provisioning profile is wrong.</p><ul><li><p>In the Signing section (located in the General pane of the <a href="devdab46c612.html#devdab46c612" class="xRef Aside">project editor</a>), verify that the team, provisioning profile, and signing certificate settings are correct.</p></li><li><p>If you <a href="dev1bf96f17e.html#dev1bf96f17e" class="xRef AppleTopic">manually sign an app</a>, repeat the steps to <a href="dev1bf96f17e.html#dev0682b563f" class="xRef Task">download</a> and <a href="dev1bf96f17e.html#devada9612c3" class="xRef Task">import</a> the provisioning profile.</p></li><li><p>If you set the Code Signing Identity build setting yourself, verify that the settings are correct in the Build Settings pane of the project editor.</p><p>For multiple targets that use the same signing certificate, set this build setting at the project level, not the target. If it’s set on both the project and the target, the target setting overrides the project setting. If the target’s Code Signing Identity build setting is set, delete it by first selecting it and then choosing Edit &gt; Delete. Then set the project’s Code Signing Identity build setting to the signing certificate.</p><p>If the signing certificate or provisioning profile doesn’t appear in the Code Signing Identity pop-up menu, <a href="dev1bf96f17e.html#dev0682b563f" class="xRef Task">download</a> and <a href="dev1bf96f17e.html#devada9612c3" class="xRef Task">import</a> the provisioning profile again.</p><p>To view and edit build settings, go to <a href="dev04b3a04ba.html#dev04b3a04ba" class="xRef AppleTopic">Configure build settings</a>.</p></li></ul></div></div><div id="devfe48a1ef6" class="Task"><h2 role="button" aria-controls="aria-devfe48a1ef6" aria-expanded="true" class="Name">If a certificate can't be trusted</h2><div class="TaskBody" role="region" aria-hidden="false" id="aria-devfe48a1ef6"><p>If Xcode can’t verify the authenticity of your development or distribution certificate, you receive a <code>CSSMERR_TP_NOT_TRUSTED</code> error message from the <code>codesign(1)</code> command-line tool. </p><div class="CodeLines"><code class="CodeLine">Code Sign error: CSSMERR_TP_NOT_TRUSTED</code></div><p>To fix this problem, set the trust settings for your development, distribution, and intermediate certificates to the system default.</p><ol><li><p>Launch Keychain Access.</p></li><li><p>In the Category section, select My Certificates.</p></li><li><p>Double-click the certificate.</p><p>Use the <a href="dev309ff0f45.html#dev309ff0f45" class="xRef Aside">certificate name</a> to find the certificate belonging to your team. For example, an iOS Distribution certificate begins with “iPhone Distribution.”</p></li><li><p>In the certificate window, display the Trust section by clicking the corresponding disclosure triangle.</p></li><li><p>For the option “When using this certificate,” select Use System Defaults.</p></li><li><p>Close the certificate window.</p></li><li><p>Ensure that the certificate information shows the certificate is valid.</p></li></ol></div></div><div id="dev70bc6abdb" class="Task"><h2 role="button" aria-controls="aria-dev70bc6abdb" aria-expanded="true" class="Name">If a signing certificate doesn't match any certificates</h2><div class="TaskBody" role="region" aria-hidden="false" id="aria-dev70bc6abdb"><p>If your certificate is expired or is otherwise invalid, you receive the following error message:</p><div class="CodeLines"><code class="CodeLine">Code Signing Identity 'iPhone Developer' doesn't match any valid, non-expired, certificate/private key pair in your keychain.</code></div><ol><li><p>In Accounts preferences, <a href="dev154b28f09.html#dev154b28f09" class="xRef AppleTopic">reset the signing certificate</a>.</p></li><li><p>If you <a href="dev1bf96f17e.html#dev1bf96f17e" class="xRef AppleTopic">manually sign an app</a>, <a href="dev1bf96f17e.html#dev0682b563f" class="xRef Task">download</a> and <a href="dev1bf96f17e.html#devada9612c3" class="xRef Task">import</a> the provisioning profile that contains the new signing certificate.</p></li></ol></div></div><div id="devf3a0e1109" class="Task"><h2 role="button" aria-controls="aria-devf3a0e1109" aria-expanded="true" class="Name">If your keychain contains duplicate signing certificates</h2><div class="TaskBody" role="region" aria-hidden="false" id="aria-devf3a0e1109"><p>If duplicate signing certificates are in your keychain—such as two development certificates or two distribution certificates (your keychain must contain at most one code signing certificate of each type)—, you receive one of these error messages:</p><div class="CodeLines"><code class="CodeLine">Build error "iPhone Developer: &lt;your_name&gt; (XYZ123ABC): ambiguous (matches "iPhone Developer: &lt;your_name&gt; (XYZ123ABC)" in /Library/Keychains/System.keychain and "iPhone Developer: &lt;your_name&gt; (XYZ123ABC)" in /Users/../Library/Keychains/login.keychain)"</code></div><div class="CodeLines"><code class="CodeLine">[BEROR]CodeSign error: Certificate identity 'iPhone Distribution: &lt;your_name&gt;' appears more than once in the keychain. The codesign tool requires there only be one.</code></div><ul class="ListSingle"><li><p><a href="dev97211aeac.html#dev97211aeac" class="xRef AppleTopic">View or remove a signing certificate in your keychain</a>.</p></li></ul></div></div><div id="dev4d86d5ef7" class="Task"><h2 role="button" aria-controls="aria-dev4d86d5ef7" aria-expanded="true" class="Name">If the provisioning profile App ID doesn't match the bundle ID</h2><div class="TaskBody" role="region" aria-hidden="false" id="aria-dev4d86d5ef7"><p>If there is a conflict between the <a href="dev618af4e67.html#dev618af4e67" class="xRef Aside">App ID</a> in the provisioning profile and the <a href="dev9b66ae7df.html#dev9b66ae7df" class="xRef Aside">bundle ID</a> in your project, you receive error messages similar to the following:</p><div class="CodeLines"><code class="CodeLine">Code Sign error: Provisioning profile 'MyApp Profile' specifies the Application Identifier 'com.mycompany.MyApp.*' which doesn't match the current setting 'com.mycompany.MyApp'</code></div><ol><li><p>In the <a href="devdab46c612.html#devdab46c612" class="xRef Aside">project editor</a>, choose the target and click General.</p></li><li><p>In the Identity section, <a href="deve21d0239c.html#deve21d0239c" class="xRef AppleTopic">set the bundle ID</a> to match the App ID.</p></li><li><p>In the Signing section, verify that the team, provisioning profile, and signing certificate settings are correct.</p></li><li><p>Next to the provisioning profile, click the information icon.</p></li><li><p>In the dialog that appears, verify that the provisioning profile contains the correct App ID.</p></li></ol><p>In addition, you can view the App ID and provisioning profile details in your <a href="devbbdb0a993.html#devbbdb0a993" class="xRef Aside">developer account</a>.</p></div></div><div class="LinkUniversal"><strong>See also</strong><a href="devd1432da9a.html#devd1432da9a" class="xRef AppleTopic">If a signing certificate or private key is missing</a><a href="devc4c7101d8.html#devc4c7101d8" class="xRef AppleTopic">If an intermediate certificate authority is missing</a><a href="dev298d7b2cb.html#dev298d7b2cb" class="xRef AppleTopic">If a build has an entitlement error</a></div></body></html>