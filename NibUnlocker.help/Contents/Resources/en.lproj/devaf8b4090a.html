<html lang="en"><head><meta charset="UTF-8"><title>Stringsdict file format</title><meta name="description" content="A stringsdict file is used to define language plural variants and presentation width variants."></head><body dir="ltr" id="devaf8b4090a" class="AppleTopic apd-topic" data-isTaskOpen="false"><a name="devaf8b4090a"></a><figure class="topicIcon"><img src="../GlobalArt/AppIconDefault.png" alt="" height="30" width="30"></figure><h1>Stringsdict file format</h1><p>A <em>stringsdict file</em> (a file with a <code>.stringsdict</code> file extension) is a property list used to define both language plural variants and presentation width variants. The stringsdict file contains a dictionary where the keys are the localizable strings and the values are a dictionary containing either plural variants or width variants.</p><div id="devdfc2d1c92" class="Subhead"><h2 class="Name">Plural Variants</h2><p>A <em>plural variant</em> is a different translation of a formatted string that depends on the plural rules of the language. The keys are the formatted strings (<code>%d file(s) remaining</code>) and the values are dictionaries containing the variants, as in:</p><div class="CodeLines"><code class="CodeLine">&lt;plist version="1.0"&gt;</code><code class="CodeLine">    &lt;dict&gt;</code><code class="CodeLine">        &lt;key&gt;%d file(s) remaining&lt;/key&gt;</code><code class="CodeLine">        &lt;dict&gt;</code><code class="CodeLine">            …</code><code class="CodeLine">        &lt;/dict&gt;</code><code class="CodeLine">        &lt;key&gt;%d service hour(s)&lt;/key&gt;</code><code class="CodeLine">        &lt;dict&gt;</code><code class="CodeLine">            …</code><code class="CodeLine">        &lt;/dict&gt;</code><code class="CodeLine">        &lt;key&gt;%d award(s)&lt;/key&gt;</code><code class="CodeLine">        &lt;dict&gt;</code><code class="CodeLine">            …</code><code class="CodeLine">        &lt;/dict&gt;</code><code class="CodeLine">    &lt;/dict&gt;</code><code class="CodeLine">&lt;/plist&gt;</code></div><p>In your code, you pass the same formatted strings—for example, <code>@”%d file(s) remaining”</code>, <code>@”%d service hour(s)”</code> and <code>@”%d award(s)”</code> containing variables—to the <code>NSLocalizedString</code> macro.</p><p>The keys for the formatted string dictionary are:</p><ul><li><p><code>NSStringLocalizedFormatKey</code>: A format string that contains variables. </p><p>A variable is preceded by the <code>%#@</code> characters and followed by the <code>@</code> character. For example, <code>files</code> is a variable in this format string:</p><div class="CodeLines"><code class="CodeLine">&lt;key&gt;NSStringLocalizedFormatKey&lt;/key&gt;</code><code class="CodeLine">&lt;string&gt;%#@files@&lt;/string&gt;</code></div></li><li><p><code>[plural variant]</code>: A dictionary that specifies the plural variant for a variable in the <code>NSStringLocalizedFormatKey</code> format string.</p><p>There’s a separate plural variant dictionary for each variable that appears in the <code>NSStringLocalizedFormatKey</code> format string. The plural variant dictionary determines which format string is returned by the <code>NSLocalizedString</code> macro. It contains a different format string for each grammatical plural variant in the language. </p></li></ul><p>The keys for the <em>plural variant dictionary</em> are:</p><ul><li><p><code>NSStringFormatSpecTypeKey</code>: Specifies the type of language rule. </p><p>The only possible value is <code>NSStringPluralRuleType</code>, which indicates a language plural variant.</p></li><li><p><code>NSStringFormatValueTypeKey</code>: A string format specifier for a number, as in the letter <code>d</code> for an integer.</p></li><li><p><code>zero</code>, <code>one</code>, <code>two</code>, <code>few</code>, <code>many</code>, <code>other</code>: The format string for the language-specific plural category. For the categories and plural rules for each language, go to <a href="http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html" class="URL">CLDR Language Plural Rules</a>. The <code>other</code> key is required.</p></li></ul><p>For example, the plural variant dictionary for the <code>files</code> variable in English is:</p><div class="CodeLines"><code class="CodeLine">&lt;key&gt;files&lt;/key&gt;</code><code class="CodeLine">&lt;dict&gt;</code><code class="CodeLine">    &lt;key&gt;NSStringFormatSpecTypeKey&lt;/key&gt;</code><code class="CodeLine">    &lt;string&gt;NSStringPluralRuleType&lt;/string&gt;</code><code class="CodeLine">    &lt;key&gt;NSStringFormatValueTypeKey&lt;/key&gt;</code><code class="CodeLine">    &lt;string&gt;d&lt;/string&gt;</code><code class="CodeLine">    &lt;key&gt;one&lt;/key&gt;</code><code class="CodeLine">    &lt;string&gt;%d file remaining&lt;/string&gt;</code><code class="CodeLine">    &lt;key&gt;other&lt;/key&gt;</code><code class="CodeLine">    &lt;string&gt;%d files remaining&lt;/string&gt;</code><code class="CodeLine">&lt;/dict&gt;</code></div><p>If the number is 1, the localized string becomes <code>@”1 file remaining”</code>. If the number is 2, the localized string becomes <code>@”2 files remaining”</code>. </p><p>The meaning of the plural variant categories is language-dependent and not all languages have the same categories. For example, English only uses the <code>one</code> and <code>other</code> categories to represent plural forms. Arabic has different plural forms for the <code>zero</code>, <code>one</code>, <code>two</code>, <code>few</code>, <code>many</code>, and <code>other</code> categories. Although Russian also uses the <code>many</code> category, the rules for which numbers are in the <code>many</code> category are not the same as the Arabic rules.</p><p>All of the categories are optional except the <code>other</code> category. However, the localized text may be grammatically incorrect if you don’t supply a rule for all the language-specific categories. Conversely, if you provide a rule for a category not used by a language, it is ignored and the <code>other</code> format string is used.</p><p>Using the <code>NSStringFormatValueTypeKey</code> format specifier in the <code>zero</code>, <code>one</code>, <code>two</code>, <code>few</code>, <code>many</code>, and <code>other</code> format strings is optional. For example, for English the <code>one</code> format string can be:</p><div class="CodeLines"><code class="CodeLine">    One file remaining</code></div><p>while the <code>other</code> format string can be:</p><div class="CodeLines"><code class="CodeLine">    %d files remaining</code></div><p>Use the format specifier or spell out numbers in the format strings. If you use a numeric in the format string, as in <code>1 file remaining</code> for English, it may not be localized when the user changes the region (for example, if the number set changes). Instead, use the format specifier, as in:</p><div class="CodeLines"><code class="CodeLine">    %d file remaining</code></div><p>Otherwise, spell out the number, as in:</p><div class="CodeLines"><code class="CodeLine">    One file remaining</code></div><div class="Alert"><p class="Important"><strong>Important: </strong>Avoid using a stringsdict file for a string that does not include a number, because a language might define generic singular and plural forms in ways that don’t work well with the <code>one</code> and <code>other</code> categories.</p></div></div><div id="dev511b64d00" class="Subhead"><h2 class="Name">Width Variants</h2><p>A <em>width variant</em> provides a version of a localized string for a specified presentation width in the user interface. Standard UIKit controls automatically get the string width variant, appropriate for the current screen size, from the localized stringsdict file. In your code, you can also get a width variant using the <code>variantFittingPresentationWidth</code> method in the <code>NSString</code> class.</p><p>The width variant dictionary contains a single dictionary where the key is <code>NSStringVariableWidthRuleType</code> and the value is a dictionary with key-value pairs for each variant as in:</p><div class="CodeLines"><code class="CodeLine">&lt;key&gt;GDP&lt;/key&gt;</code><code class="CodeLine">    &lt;dict&gt;</code><code class="CodeLine">        &lt;key&gt;NSStringVariableWidthRuleType&lt;/key&gt;</code><code class="CodeLine">        &lt;dict&gt;</code><code class="CodeLine">            &lt;key&gt;1&lt;/key&gt;</code><code class="CodeLine">            &lt;string&gt;GDP (billions)&lt;/string&gt;</code><code class="CodeLine">            &lt;key&gt;20&lt;/key&gt;</code><code class="CodeLine">            &lt;string&gt;GDP (in billions)&lt;/string&gt;</code><code class="CodeLine">            &lt;key&gt;50&lt;/key&gt;</code><code class="CodeLine">            &lt;string&gt;Gross Domestic Product (in billions)&lt;/string&gt;</code><code class="CodeLine">        &lt;/dict&gt;</code><code class="CodeLine">    &lt;/dict&gt;</code></div><p>For details on specifying width variants, go to <a href="https://developer.apple.com/documentation/foundation/nsstring/1413104-variantfittingpresentationwidth" class="URL">variantFittingPresentationWidth</a>.</p></div></body></html>