<html lang="en"><head><meta charset="UTF-8"><title>Write a build phase script</title><meta name="description" content="You can use additional variables and handle errors in a build phase shell script. "></head><body dir="ltr" id="devba4d69b42" class="AppleTopic apd-topic" data-isTaskOpen="false"><a name="devba4d69b42"></a><figure class="topicIcon"><img src="../GlobalArt/AppIconDefault.png" alt="" height="30" width="30"></figure><h1>Write a build phase script</h1><p>In the Build Phases pane of the project editor, you can configure a project to <a href="devc8c930575.html#devc8c930575" class="xRef AppleTopic">run a shell script as part of building a target</a>. In the <a href="dev1d64afe57.html#dev1d64afe57" class="xRef Aside">shell script</a>, you can use build phase-specific variables in addition to environment variables. You can also write to the build log and trigger a build failure.</p><div id="dev110a1e4e0" class="Subhead"><h2 class="Name">Use additional variables</h2><p>You can use these additional variables in a build phase shell script:</p><table data-type="Multicolumn" aria-label="Build phase script variables"><thead><tr><th colspan="4" scope="col"><p class="TableHead">Variable</p></th><th colspan="8" scope="col"><p class="TableHead">Description</p></th></tr></thead><tbody><tr><td colspan="4"><p><code>SCRIPT_INPUT_FILE_COUNT</code></p></td><td colspan="8"><p>The total number of script files described as inputs.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_INPUT_FILE_[#]</code></p></td><td colspan="8"><p>Each input file listed is exported as an environment variable, starting with <code>SCRIPT_INPUT_FILE_0</code>.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_INPUT_FILE_LIST_COUNT</code></p></td><td colspan="8"><p>The total number of file lists described as input file lists.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_INPUT_FILE_LIST_[#]</code></p></td><td colspan="8"><p>A path to the file with each of the values within the given input list resolved with their expanded values, starting with <code>SCRIPT_INPUT_FILE_LIST_0</code>.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_OUTPUT_FILE_COUNT</code></p></td><td colspan="8"><p>The total number of script files described as outputs.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_OUTPUT_FILE_[#]</code></p></td><td colspan="8"><p>Each output file listed is exported as an environment variable, starting with <code>SCRIPT_OUTPUT_FILE_0</code>.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_OUTPUT_FILE_LIST_COUNT</code></p></td><td colspan="8"><p>The total number of file lists described as output file lists.</p></td></tr><tr><td colspan="4"><p><code>SCRIPT_OUTPUT_FILE_LIST_[#]</code></p></td><td colspan="8"><p>A path to the file with each of the values within the given output list resolved with their expanded values, starting with <code>SCRIPT_OUTPUT_FILE_LIST_0</code>.</p></td></tr></tbody></table></div><div id="dev4683cbf30" class="Subhead"><h2 class="Name">Log errors and warnings</h2><p>To add errors and warnings to the build log, write the message to standard out and prefix it with either <code>error:</code> or <code>warning:</code>. These messages will appear in the build log.</p></div><div id="dev4c43a104a" class="Subhead"><h2 class="Name">Trigger a build failure</h2><p>To trigger a build failure, return a non-zero exit code from the script. </p><p>For example:</p><div class="Example"><div class="CodeLines"><code class="CodeLine">echo "error: This is an error message that will show up in the build log."</code><code class="CodeLine">echo "warning: This is a warning message that will show up in the build log."</code><code class="CodeLine"># This will cause a build failure</code><code class="CodeLine">exit 1</code></div></div></div><div class="LinkUniversal"><strong>See also</strong><a href="devc8c930575.html#devc8c930575" class="xRef AppleTopic">Run a shell script</a></div></body></html>